# .bashrc: Bash profile file for non-login session
# Wentao Han (wentao.han@gmail.com)

# Set search paths

PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
PATH="/usr/local/opt/coreutils/libexec/gnubin:$PATH"
MANPATH="/usr/local/opt/coreutils/libexec/gnuman:$MANPATH"

if [ -d "/usr/texbin" ]; then
  PATH="/usr/texbin:$PATH"
fi

if [ -d "$HOME/Library/Python/2.7/bin" ]; then
  PATH="$HOME/Library/Python/2.7/bin:$PATH"
fi

if [ -d "$HOME/bin" ]; then
  PATH="$HOME/bin:$PATH"
fi

export PATH MANPATH

# Set up prompt using powerline

. "$HOME/Library/Python/2.7/lib/python/site-packages/powerline/bindings/bash/powerline.sh"

# Set up locale

export LANG="en_US.UTF-8"

# Set up bash-completion

if [ -f "$(brew --prefix)/etc/bash_completion" ]; then
  . "$(brew --prefix)/etc/bash_completion"
fi

# Set up lesspipe

if [ -n "$(which lesspipe.sh)" ]; then
  eval "$(lesspipe.sh)"
  export LESS="-R"
  export LESSQUIET="true"
fi

# History and other settings

HISTCONTROL=ignoredups:ignorespace
HISTSIZE=1000
HISTFILESIZE=2000

shopt -s histappend
shopt -s checkwinsize
set -o vi

export EDITOR="$(which vim)"

# Color settings

if [ -n "$(which dircolors)" ]; then
  if [ -r ~/.dircolors ]; then
    eval "$(dircolors -b ~/.dircolors)"
  else
    eval "$(dircolors -b)"
  fi
  alias ls="ls --color=auto"
  alias dir="dir --color=auto"
  alias vdir="vdir --color=auto"
  alias grep="grep --color=auto"
  alias fgrep="fgrep --color=auto"
  alias egrep="egrep --color=auto"
fi
